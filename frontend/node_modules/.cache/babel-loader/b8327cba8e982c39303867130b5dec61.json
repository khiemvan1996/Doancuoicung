{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/PlayGames/WordMatch/data.js\",\n  _s = $RefreshSig$();\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport PlayIcon from '@material-ui/icons/PlayCircleFilledWhite';\nimport gameApi from 'apis/gameApi';\nimport GlobalLoading from 'components/UI/GlobalLoading';\nimport InputCustom from 'components/UI/InputCustom';\nimport WordPack from 'components/UI/WordPack';\nimport React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setMessage } from 'redux/slices/message.slice';\nimport WordMatchGame from '.';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MAX_LEN_WORD_PACK = 500;\nfunction WordMatchGameData() {\n  _s();\n  // 0 - choose word pack, 1 - get pack, 2 - done\n  const [state, setState] = useState(0);\n  const [wordPack, setWordPack] = useState([]);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const nQuestion = useRef(50);\n  const getWordPackage = async _ref => {\n    let {\n      type,\n      topics,\n      level,\n      specialty\n    } = _ref;\n    try {\n      setState(1);\n      const n = nQuestion.current < 0 || nQuestion.current > MAX_LEN_WORD_PACK ? 100 : nQuestion.current;\n      const apiRes = await gameApi.getWordPackWordMatch(type, level, specialty, topics, n);\n      if (apiRes.status === 200) {\n        const {\n          wordPack = []\n        } = apiRes.data;\n        if (wordPack.length === 0) {\n          dispatch(setMessage({\n            type: 'warning',\n            message: 'Rất xin lỗi, gói từ vựng hiện tại không đủ. Vui lòng thử lại sao',\n            duration: 3000\n          }));\n          setState(0);\n          return;\n        }\n        setWordPack(wordPack);\n        setState(2);\n        return;\n      }\n      dispatch(setMessage({\n        type: 'warning',\n        message: 'Lấy gói từ vựng thất bại, thử lại !'\n      }));\n      setState(0);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const message = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Lấy gói từ vựng thất bại, thử lại !';\n      dispatch(setMessage({\n        type: 'error',\n        message\n      }));\n      setState(0);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: state === 0 ? /*#__PURE__*/_jsxDEV(WordPack, {\n      open: true,\n      onChoose: getWordPackage,\n      onCancel: () => history.goBack(),\n      topicMultiples: true,\n      title: \"L\\u1EF1a ch\\u1ECDn g\\xF3i t\\u1EEB v\\u1EF1ng\",\n      okBtnText: \"B\\u1EAFt \\u0111\\u1EA7u\",\n      cancelBtnText: \"Quay l\\u1EA1i\",\n      cancelBtnProps: {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 40\n        }, this)\n      },\n      okBtnProps: {\n        startIcon: /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 36\n        }, this)\n      },\n      children: /*#__PURE__*/_jsxDEV(InputCustom, {\n        type: \"number\",\n        inputProps: {\n          min: 5,\n          max: MAX_LEN_WORD_PACK,\n          defaultValue: 50\n        },\n        placeholder: \"Nh\\u1EADp s\\u1ED1 c\\xE2u\",\n        label: \"S\\u1ED1 c\\xE2u\",\n        className: \"w-100\",\n        onChange: e => nQuestion.current = e.target.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : state === 1 ? /*#__PURE__*/_jsxDEV(GlobalLoading, {\n      title: \"\\u0110ang t\\u1EA3i g\\xF3i c\\xE2u h\\u1ECFi ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(WordMatchGame, {\n      list: wordPack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(WordMatchGameData, \"vBv37T7cniNE8j6T4M1IbdLoTV8=\", false, function () {\n  return [useDispatch, useHistory];\n});\n_c = WordMatchGameData;\nexport default WordMatchGameData;\nvar _c;\n$RefreshReg$(_c, \"WordMatchGameData\");","map":{"version":3,"names":["ArrowBackIcon","PlayIcon","gameApi","GlobalLoading","InputCustom","WordPack","React","useRef","useState","useDispatch","useHistory","setMessage","WordMatchGame","MAX_LEN_WORD_PACK","WordMatchGameData","state","setState","wordPack","setWordPack","dispatch","history","nQuestion","getWordPackage","type","topics","level","specialty","n","current","apiRes","getWordPackWordMatch","status","data","length","message","duration","error","response","goBack","startIcon","min","max","defaultValue","e","target","value"],"sources":["/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/PlayGames/WordMatch/data.js"],"sourcesContent":["import ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport PlayIcon from '@material-ui/icons/PlayCircleFilledWhite';\nimport gameApi from 'apis/gameApi';\nimport GlobalLoading from 'components/UI/GlobalLoading';\nimport InputCustom from 'components/UI/InputCustom';\nimport WordPack from 'components/UI/WordPack';\nimport React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setMessage } from 'redux/slices/message.slice';\nimport WordMatchGame from '.';\nconst MAX_LEN_WORD_PACK = 500;\n\nfunction WordMatchGameData() {\n  // 0 - choose word pack, 1 - get pack, 2 - done\n  const [state, setState] = useState(0);\n  const [wordPack, setWordPack] = useState([]);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const nQuestion = useRef(50);\n\n  const getWordPackage = async ({ type, topics, level, specialty }) => {\n    try {\n      setState(1);\n      const n =\n        nQuestion.current < 0 || nQuestion.current > MAX_LEN_WORD_PACK\n          ? 100\n          : nQuestion.current;\n\n      const apiRes = await gameApi.getWordPackWordMatch(\n        type,\n        level,\n        specialty,\n        topics,\n        n,\n      );\n      if (apiRes.status === 200) {\n        const { wordPack = [] } = apiRes.data;\n        if (wordPack.length === 0) {\n          dispatch(\n            setMessage({\n              type: 'warning',\n              message:\n                'Rất xin lỗi, gói từ vựng hiện tại không đủ. Vui lòng thử lại sao',\n              duration: 3000,\n            }),\n          );\n          setState(0);\n          return;\n        }\n\n        setWordPack(wordPack);\n        setState(2);\n        return;\n      }\n\n      dispatch(\n        setMessage({\n          type: 'warning',\n          message: 'Lấy gói từ vựng thất bại, thử lại !',\n        }),\n      );\n\n      setState(0);\n    } catch (error) {\n      const message =\n        error.response?.data?.message || 'Lấy gói từ vựng thất bại, thử lại !';\n      dispatch(setMessage({ type: 'error', message }));\n      setState(0);\n    }\n  };\n\n  return (\n    <>\n      {state === 0 ? (\n        <WordPack\n          open={true}\n          onChoose={getWordPackage}\n          onCancel={() => history.goBack()}\n          topicMultiples={true}\n          title=\"Lựa chọn gói từ vựng\"\n          okBtnText=\"Bắt đầu\"\n          cancelBtnText=\"Quay lại\"\n          cancelBtnProps={{ startIcon: <ArrowBackIcon /> }}\n          okBtnProps={{ startIcon: <PlayIcon /> }}>\n          <InputCustom\n            type=\"number\"\n            inputProps={{\n              min: 5,\n              max: MAX_LEN_WORD_PACK,\n              defaultValue: 50,\n            }}\n            placeholder=\"Nhập số câu\"\n            label=\"Số câu\"\n            className=\"w-100\"\n            onChange={(e) => (nQuestion.current = e.target.value)}\n          />\n        </WordPack>\n      ) : state === 1 ? (\n        <GlobalLoading title=\"Đang tải gói câu hỏi ...\" />\n      ) : (\n        <WordMatchGame list={wordPack} />\n      )}\n    </>\n  );\n}\n\nexport default WordMatchGameData;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}