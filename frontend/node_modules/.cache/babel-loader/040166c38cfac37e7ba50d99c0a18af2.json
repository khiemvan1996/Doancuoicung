{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/Login/data.js\",\n  _s = $RefreshSig$();\nimport accountApi from 'apis/accountApi';\nimport { UX } from 'constant';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setMessage } from 'redux/slices/message.slice';\nimport Login from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginData() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const handleLogin = async account => {\n    try {\n      setLoading(true);\n      const {\n        email,\n        password\n      } = account;\n      const apiRes = await accountApi.postLogin(email.toLowerCase(), password);\n      if (apiRes && apiRes.status === 200) {\n        dispatch(setMessage({\n          message: 'Đăng nhập thành công',\n          type: 'success'\n        }));\n        setTimeout(() => {\n          window.location.href = '/';\n        }, UX.DELAY_TIME);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const message = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Thất bại, thử lại !';\n      dispatch(setMessage({\n        message,\n        type: 'error'\n      }));\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Login, {\n    onLogin: handleLogin,\n    loading: loading\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n}\n_s(LoginData, \"sKyeo5OvQCyvMwDC72axs3+148I=\", false, function () {\n  return [useDispatch];\n});\n_c = LoginData;\nexport default LoginData;\nvar _c;\n$RefreshReg$(_c, \"LoginData\");","map":{"version":3,"names":["accountApi","UX","React","useState","useDispatch","setMessage","Login","LoginData","loading","setLoading","dispatch","handleLogin","account","email","password","apiRes","postLogin","toLowerCase","status","message","type","setTimeout","window","location","href","DELAY_TIME","error","response","data"],"sources":["/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/Login/data.js"],"sourcesContent":["import accountApi from 'apis/accountApi';\nimport { UX } from 'constant';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setMessage } from 'redux/slices/message.slice';\nimport Login from './index';\n\nfunction LoginData() {\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleLogin = async (account) => {\n    try {\n      setLoading(true);\n      const { email, password } = account;\n\n      const apiRes = await accountApi.postLogin(email.toLowerCase(), password);\n      if (apiRes && apiRes.status === 200) {\n        dispatch(\n          setMessage({ message: 'Đăng nhập thành công', type: 'success' }),\n        );\n\n        setTimeout(() => {\n          window.location.href = '/';\n        }, UX.DELAY_TIME);\n      }\n    } catch (error) {\n      const message = error.response?.data?.message || 'Thất bại, thử lại !';\n      dispatch(setMessage({ message, type: 'error' }));\n      setLoading(false);\n    }\n  };\n\n  return <Login onLogin={handleLogin} loading={loading} />;\n}\n\nexport default LoginData;\n"],"mappings":";;AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,SAASC,EAAE,QAAQ,UAAU;AAC7B,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,4BAA4B;AACvD,OAAOC,KAAK,MAAM,SAAS;AAAC;AAE5B,SAASC,SAAS,GAAG;EAAA;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMO,QAAQ,GAAGN,WAAW,EAAE;EAE9B,MAAMO,WAAW,GAAG,MAAOC,OAAO,IAAK;IACrC,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM;QAAEI,KAAK;QAAEC;MAAS,CAAC,GAAGF,OAAO;MAEnC,MAAMG,MAAM,GAAG,MAAMf,UAAU,CAACgB,SAAS,CAACH,KAAK,CAACI,WAAW,EAAE,EAAEH,QAAQ,CAAC;MACxE,IAAIC,MAAM,IAAIA,MAAM,CAACG,MAAM,KAAK,GAAG,EAAE;QACnCR,QAAQ,CACNL,UAAU,CAAC;UAAEc,OAAO,EAAE,sBAAsB;UAAEC,IAAI,EAAE;QAAU,CAAC,CAAC,CACjE;QAEDC,UAAU,CAAC,MAAM;UACfC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;QAC5B,CAAC,EAAEvB,EAAE,CAACwB,UAAU,CAAC;MACnB;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA;MACd,MAAMP,OAAO,GAAG,oBAAAO,KAAK,CAACC,QAAQ,4EAAd,gBAAgBC,IAAI,yDAApB,qBAAsBT,OAAO,KAAI,qBAAqB;MACtET,QAAQ,CAACL,UAAU,CAAC;QAAEc,OAAO;QAAEC,IAAI,EAAE;MAAQ,CAAC,CAAC,CAAC;MAChDX,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBAAO,QAAC,KAAK;IAAC,OAAO,EAAEE,WAAY;IAAC,OAAO,EAAEH;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAG;AAC1D;AAAC,GA3BQD,SAAS;EAAA,QAECH,WAAW;AAAA;AAAA,KAFrBG,SAAS;AA6BlB,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module"}