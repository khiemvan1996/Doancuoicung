{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/Login/SocialNetwork/Google.js\",\n  _s = $RefreshSig$();\nimport accountApi from 'apis/accountApi';\nimport ggIcon from 'assets/icons/gg-icon.png';\nimport { UX } from 'constant';\nimport React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { useDispatch } from 'react-redux';\nimport { setMessage } from 'redux/slices/message.slice';\nimport useStyle from './style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginGoogle() {\n  _s();\n  const classes = useStyle();\n  const dispatch = useDispatch();\n\n  // handle success login\n  const onLoginSuccess = async () => {\n    try {\n      dispatch(setMessage({\n        type: 'success',\n        message: 'Đăng nhập thành công',\n        duration: UX.DELAY_TIME\n      }));\n      setTimeout(() => {\n        location.href = '/';\n      }, UX.DELAY_TIME);\n    } catch (error) {}\n  };\n\n  // login\n  const onLoginWithGoogle = async res => {\n    try {\n      const {\n        accessToken\n      } = res;\n      const response = await accountApi.postLoginWithGoogle(accessToken);\n      const {\n        status,\n        data\n      } = response;\n      if (status === 200) {\n        onLoginSuccess(data);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const message = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message;\n      dispatch(setMessage({\n        type: 'error',\n        message\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleLogin, {\n    clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n    autoLoad: false,\n    render: renderProps => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: renderProps.onClick,\n      disabled: renderProps.disabled,\n      className: classes.socialBtn,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.socialImg,\n        src: ggIcon,\n        alt: \"GG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.socialName,\n        children: \"Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this),\n    onSuccess: onLoginWithGoogle,\n    onFailure: onLoginWithGoogle,\n    cookiePolicy: 'single_host_origin'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginGoogle, \"UJz8eCxZyheAe4tJhAxZ7Ps9B9A=\", false, function () {\n  return [useStyle, useDispatch];\n});\n_c = LoginGoogle;\nexport default LoginGoogle;\nvar _c;\n$RefreshReg$(_c, \"LoginGoogle\");","map":{"version":3,"names":["accountApi","ggIcon","UX","React","GoogleLogin","useDispatch","setMessage","useStyle","LoginGoogle","classes","dispatch","onLoginSuccess","type","message","duration","DELAY_TIME","setTimeout","location","href","error","onLoginWithGoogle","res","accessToken","response","postLoginWithGoogle","status","data","process","env","REACT_APP_GOOGLE_CLIENT_ID","renderProps","onClick","disabled","socialBtn","socialImg","socialName"],"sources":["/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/Login/SocialNetwork/Google.js"],"sourcesContent":["import accountApi from 'apis/accountApi';\nimport ggIcon from 'assets/icons/gg-icon.png';\nimport { UX } from 'constant';\nimport React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { useDispatch } from 'react-redux';\nimport { setMessage } from 'redux/slices/message.slice';\nimport useStyle from './style';\n\nfunction LoginGoogle() {\n  const classes = useStyle();\n  const dispatch = useDispatch();\n\n  // handle success login\n  const onLoginSuccess = async () => {\n    try {\n      dispatch(\n        setMessage({\n          type: 'success',\n          message: 'Đăng nhập thành công',\n          duration: UX.DELAY_TIME,\n        }),\n      );\n\n      setTimeout(() => {\n        location.href = '/';\n      }, UX.DELAY_TIME);\n    } catch (error) {}\n  };\n\n  // login\n  const onLoginWithGoogle = async (res) => {\n    try {\n      const { accessToken } = res;\n\n      const response = await accountApi.postLoginWithGoogle(accessToken);\n      const { status, data } = response;\n\n      if (status === 200) {\n        onLoginSuccess(data);\n      }\n    } catch (error) {\n      const message =\n        error.response?.data?.message;\n      dispatch(setMessage({ type: 'error', message }));\n    }\n  };\n\n  return (\n    <GoogleLogin\n      clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n      autoLoad={false}\n      render={(renderProps) => (\n        <div\n          onClick={renderProps.onClick}\n          disabled={renderProps.disabled}\n          className={classes.socialBtn}>\n          <img className={classes.socialImg} src={ggIcon} alt=\"GG\" />\n          <span className={classes.socialName}>Google</span>\n        </div>\n      )}\n      onSuccess={onLoginWithGoogle}\n      onFailure={onLoginWithGoogle}\n      cookiePolicy={'single_host_origin'}\n    />\n  );\n}\n\nexport default LoginGoogle;\n"],"mappings":";;AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,SAASC,EAAE,QAAQ,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,4BAA4B;AACvD,OAAOC,QAAQ,MAAM,SAAS;AAAC;AAE/B,SAASC,WAAW,GAAG;EAAA;EACrB,MAAMC,OAAO,GAAGF,QAAQ,EAAE;EAC1B,MAAMG,QAAQ,GAAGL,WAAW,EAAE;;EAE9B;EACA,MAAMM,cAAc,GAAG,YAAY;IACjC,IAAI;MACFD,QAAQ,CACNJ,UAAU,CAAC;QACTM,IAAI,EAAE,SAAS;QACfC,OAAO,EAAE,sBAAsB;QAC/BC,QAAQ,EAAEZ,EAAE,CAACa;MACf,CAAC,CAAC,CACH;MAEDC,UAAU,CAAC,MAAM;QACfC,QAAQ,CAACC,IAAI,GAAG,GAAG;MACrB,CAAC,EAAEhB,EAAE,CAACa,UAAU,CAAC;IACnB,CAAC,CAAC,OAAOI,KAAK,EAAE,CAAC;EACnB,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAG,MAAOC,GAAG,IAAK;IACvC,IAAI;MACF,MAAM;QAAEC;MAAY,CAAC,GAAGD,GAAG;MAE3B,MAAME,QAAQ,GAAG,MAAMvB,UAAU,CAACwB,mBAAmB,CAACF,WAAW,CAAC;MAClE,MAAM;QAAEG,MAAM;QAAEC;MAAK,CAAC,GAAGH,QAAQ;MAEjC,IAAIE,MAAM,KAAK,GAAG,EAAE;QAClBd,cAAc,CAACe,IAAI,CAAC;MACtB;IACF,CAAC,CAAC,OAAOP,KAAK,EAAE;MAAA;MACd,MAAMN,OAAO,sBACXM,KAAK,CAACI,QAAQ,4EAAd,gBAAgBG,IAAI,yDAApB,qBAAsBb,OAAO;MAC/BH,QAAQ,CAACJ,UAAU,CAAC;QAAEM,IAAI,EAAE,OAAO;QAAEC;MAAQ,CAAC,CAAC,CAAC;IAClD;EACF,CAAC;EAED,oBACE,QAAC,WAAW;IACV,QAAQ,EAAEc,OAAO,CAACC,GAAG,CAACC,0BAA2B;IACjD,QAAQ,EAAE,KAAM;IAChB,MAAM,EAAGC,WAAW,iBAClB;MACE,OAAO,EAAEA,WAAW,CAACC,OAAQ;MAC7B,QAAQ,EAAED,WAAW,CAACE,QAAS;MAC/B,SAAS,EAAEvB,OAAO,CAACwB,SAAU;MAAA,wBAC7B;QAAK,SAAS,EAAExB,OAAO,CAACyB,SAAU;QAAC,GAAG,EAAEjC,MAAO;QAAC,GAAG,EAAC;MAAI;QAAA;QAAA;QAAA;MAAA,QAAG,eAC3D;QAAM,SAAS,EAAEQ,OAAO,CAAC0B,UAAW;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAc;IAAA;MAAA;MAAA;MAAA;IAAA,QAEpD;IACF,SAAS,EAAEf,iBAAkB;IAC7B,SAAS,EAAEA,iBAAkB;IAC7B,YAAY,EAAE;EAAqB;IAAA;IAAA;IAAA;EAAA,QACnC;AAEN;AAAC,GAzDQZ,WAAW;EAAA,QACFD,QAAQ,EACPF,WAAW;AAAA;AAAA,KAFrBG,WAAW;AA2DpB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module"}