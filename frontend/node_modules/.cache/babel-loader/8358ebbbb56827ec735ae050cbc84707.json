{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/PlayGames/FastGame/index.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport InfoIcon from '@material-ui/icons/Info';\nimport Speaker from 'components/UI/Speaker';\nimport TooltipCustom from 'components/UI/TooltipCustom';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useStyle from './style';\nimport winAudioSrc from 'assets/audios/win.mp3';\nimport { onPlayAudio } from 'helper/speaker.helper';\nimport { Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport highscoreApi from 'apis/highscoreApi';\nimport accountApi from 'apis/accountApi';\nimport { setUserCoin } from 'redux/slices/userInfo.slice';\nimport { HIGHSCORE_NAME } from 'constant/game';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TOTAL_TIME = 60000;\nconst RESET_TIME = 250;\nconst MINUS_TIME = 2000;\nconst ADD_TIME = MINUS_TIME * 1.5;\nconst CORRECT_SCORE = 10;\nconst WRONG_SCORE = 5;\nconst SCORE_PER_SEC = 5;\nfunction generateAnswerList() {\n  let list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let word = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  const index = list.findIndex(i => (i === null || i === void 0 ? void 0 : i.word.toLowerCase()) === word.toLowerCase());\n  let seedList = [...list.slice(0, index), ...list.slice(index + 1)];\n  seedList = seedList.sort(() => Math.random() - 0.5).slice(0, 8);\n  seedList.push(list[index]);\n  return seedList.sort(() => Math.random() - 0.5);\n}\nfunction TimeBar(_ref) {\n  _s();\n  let {\n    correctFlag,\n    wrongFlag,\n    onSaveTime,\n    onTimeout\n  } = _ref;\n  const classes = useStyle();\n  const [restTime, setRestTime] = useState(TOTAL_TIME);\n  const percent = Math.round(restTime / TOTAL_TIME * 100);\n  const minute = ~~(restTime / 60000);\n  const second = `0${~~(restTime / 1000) % 60}`.slice(-2);\n  useEffect(() => {\n    onSaveTime(restTime);\n    const intervalId = setInterval(() => {\n      const newRestTime = restTime - RESET_TIME;\n      if (newRestTime <= 0) {\n        onTimeout();\n        clearInterval(intervalId);\n        onSaveTime(0);\n        return;\n      }\n      setRestTime(newRestTime);\n    }, RESET_TIME);\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [restTime]);\n\n  // When correct\n  useEffect(() => {\n    // pass the first render\n    if (!correctFlag) {\n      return;\n    }\n    const newRestTime = restTime + ADD_TIME;\n    if (newRestTime < TOTAL_TIME) {\n      setRestTime(newRestTime);\n    } else {\n      setRestTime(TOTAL_TIME);\n    }\n  }, [correctFlag]);\n\n  // When wrong\n  useEffect(() => {\n    // pass the first render\n    if (!wrongFlag) {\n      return;\n    }\n    const newRestTime = restTime - MINUS_TIME;\n    if (newRestTime) {\n      setRestTime(newRestTime);\n    } else {\n      onTimeout();\n    }\n  }, [wrongFlag]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.timerWrap,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: classes.timeStr,\n      children: `${minute}:${second}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.timer,\n      style: {\n        width: `${percent}%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(TimeBar, \"WHs6nXgRGZ4WW3YI2vZHgJRXZjI=\", false, function () {\n  return [useStyle];\n});\n_c = TimeBar;\nfunction Result(_ref2) {\n  _s2();\n  let {\n    score\n  } = _ref2;\n  const classes = useStyle();\n  const history = useHistory();\n  const {\n    isAuth,\n    coin\n  } = useSelector(state => state.userInfo);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!isAuth) return;\n    (async function () {\n      try {\n        const newCoin = coin + score;\n        highscoreApi.putUpdateHighscore(HIGHSCORE_NAME.FAST_GAME, score);\n        const apiRes = await accountApi.putUpdateUserCoin(newCoin);\n        if (apiRes.status === 200) {\n          dispatch(setUserCoin(newCoin));\n        }\n      } catch (error) {}\n    })();\n    return () => {};\n  }, []);\n\n  // play win audio\n  useEffect(() => {\n    onPlayAudio(winAudioSrc);\n  }, []);\n  const onGoBack = () => {\n    history.push('/');\n  };\n  const onReplay = () => {\n    location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 h-100 flex-center flex-dir-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: classes.doneTitle,\n      children: \"K\\u1EBFt th\\xFAc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.doneResult,\n      children: [\"\\u0110i\\u1EC3m c\\u1EE7a b\\u1EA1n l\\xE0: \", score]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-10\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"_btn _btn-outlined-stand mr-5\",\n        variant: \"outlined\",\n        onClick: onGoBack,\n        children: \"Quay v\\u1EC1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"_btn _btn-primary\",\n        onClick: onReplay,\n        children: \"Ch\\u01A1i l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s2(Result, \"vM2op+i8ZUz1gohdWZExNjVv1JU=\", false, function () {\n  return [useStyle, useHistory, useSelector, useDispatch];\n});\n_c2 = Result;\nfunction FastGame(_ref3) {\n  _s3();\n  let {\n    list\n  } = _ref3;\n  const classes = useStyle();\n  const currentIndex = useRef(0);\n  const [word, setWord] = useState(list[currentIndex.current].word);\n  const [answerList, setAnswerList] = useState(generateAnswerList(list, word));\n  const [score, setScore] = useState(0);\n  const restTime = useRef(TOTAL_TIME);\n  const [isDone, setIsDone] = useState(false);\n  const onDone = () => {\n    setScore(score + ~~(restTime / 1000) * SCORE_PER_SEC);\n    setIsDone(true);\n  };\n\n  // flag to increase or decrease time\n  const [flag, setFlag] = useState({\n    correct: 0,\n    wrong: 0\n  });\n  const handleCorrect = () => {\n    if (currentIndex.current >= list.length - 1) {\n      onDone();\n      return;\n    }\n    const newWord = list[currentIndex.current + 1].word;\n    const newAnswerList = generateAnswerList(list, newWord);\n    setWord(newWord);\n    setAnswerList([...newAnswerList]);\n    currentIndex.current++;\n    setFlag({\n      ...flag,\n      correct: flag.correct + 1\n    });\n    setScore(score + CORRECT_SCORE);\n  };\n  const handleWrong = removeIndex => {\n    const newAnswerList = [...answerList];\n    delete newAnswerList[removeIndex];\n    setAnswerList([...newAnswerList]);\n    setFlag({\n      ...flag,\n      wrong: flag.wrong + 1\n    });\n    setScore(score - WRONG_SCORE);\n  };\n  const handleAnswer = (answer, index) => {\n    const isCorrect = answer.toLowerCase() === word.toLowerCase();\n    if (isCorrect) {\n      handleCorrect();\n    } else {\n      handleWrong(index);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-dir-col h-100\",\n    children: !isDone ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.title,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${classes.nTotal} flex-center`,\n          children: [\"C\\xE2u\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: currentIndex.current + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 24\n          }, this), \"\\xA0/\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: list.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ` - Điểm: ${score}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TooltipCustom, {\n            className: \"ml-5 cur-pointer\",\n            title: `Chọn hình ảnh đúng với nghĩa của từ. Chọn sai -${WRONG_SCORE}đ, đúng +${CORRECT_SCORE}đ. Điểm sẽ được cộng thêm với thời gian còn lại của bạn.`,\n            children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"flex-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-8\",\n            children: word\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Speaker, {\n            text: word\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex-grow-1 ${classes.answerList}`,\n        children: answerList.map((item, index) => {\n          if (item && item.picture) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.answerItem,\n              onClick: () => handleAnswer(item.word, index),\n              children: item.picture && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.picture\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 38\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.answerItem\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TimeBar, {\n        correctFlag: flag.correct,\n        wrongFlag: flag.wrong,\n        onSaveTime: time => restTime.current = time,\n        onTimeout: onDone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(Result, {\n      score: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n_s3(FastGame, \"bzSXp+ft2S3XP1kkmnLWmgJLUak=\", false, function () {\n  return [useStyle];\n});\n_c3 = FastGame;\nexport default FastGame;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"TimeBar\");\n$RefreshReg$(_c2, \"Result\");\n$RefreshReg$(_c3, \"FastGame\");","map":{"version":3,"names":["InfoIcon","Speaker","TooltipCustom","React","useEffect","useRef","useState","useStyle","winAudioSrc","onPlayAudio","Button","useHistory","highscoreApi","accountApi","setUserCoin","HIGHSCORE_NAME","useDispatch","useSelector","TOTAL_TIME","RESET_TIME","MINUS_TIME","ADD_TIME","CORRECT_SCORE","WRONG_SCORE","SCORE_PER_SEC","generateAnswerList","list","word","index","findIndex","i","toLowerCase","seedList","slice","sort","Math","random","push","TimeBar","correctFlag","wrongFlag","onSaveTime","onTimeout","classes","restTime","setRestTime","percent","round","minute","second","intervalId","setInterval","newRestTime","clearInterval","timerWrap","timeStr","timer","width","Result","score","history","isAuth","coin","state","userInfo","dispatch","newCoin","putUpdateHighscore","FAST_GAME","apiRes","putUpdateUserCoin","status","error","onGoBack","onReplay","location","reload","doneTitle","doneResult","FastGame","currentIndex","setWord","current","answerList","setAnswerList","setScore","isDone","setIsDone","onDone","flag","setFlag","correct","wrong","handleCorrect","length","newWord","newAnswerList","handleWrong","removeIndex","handleAnswer","answer","isCorrect","title","nTotal","map","item","picture","answerItem","time"],"sources":["/Users/mac/Documents/Doantotnghiep/Doantotnghiep/dynonary-english/frontend/src/components/PlayGames/FastGame/index.js"],"sourcesContent":["import InfoIcon from '@material-ui/icons/Info';\nimport Speaker from 'components/UI/Speaker';\nimport TooltipCustom from 'components/UI/TooltipCustom';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useStyle from './style';\nimport winAudioSrc from 'assets/audios/win.mp3';\nimport { onPlayAudio } from 'helper/speaker.helper';\nimport { Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport highscoreApi from 'apis/highscoreApi';\nimport accountApi from 'apis/accountApi';\nimport { setUserCoin } from 'redux/slices/userInfo.slice';\nimport { HIGHSCORE_NAME } from 'constant/game';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst TOTAL_TIME = 60_000;\nconst RESET_TIME = 250;\nconst MINUS_TIME = 2000;\nconst ADD_TIME = MINUS_TIME * 1.5;\nconst CORRECT_SCORE = 10;\nconst WRONG_SCORE = 5;\nconst SCORE_PER_SEC = 5;\n\nfunction generateAnswerList(list = [], word = '') {\n  const index = list.findIndex(\n    (i) => i?.word.toLowerCase() === word.toLowerCase(),\n  );\n  let seedList = [...list.slice(0, index), ...list.slice(index + 1)];\n  seedList = seedList.sort(() => Math.random() - 0.5).slice(0, 8);\n  seedList.push(list[index]);\n\n  return seedList.sort(() => Math.random() - 0.5);\n}\n\nfunction TimeBar({ correctFlag, wrongFlag, onSaveTime, onTimeout }) {\n  const classes = useStyle();\n  const [restTime, setRestTime] = useState(TOTAL_TIME);\n  const percent = Math.round((restTime / TOTAL_TIME) * 100);\n  const minute = ~~(restTime / 60_000);\n  const second = `0${~~(restTime / 1_000) % 60}`.slice(-2);\n\n  useEffect(() => {\n    onSaveTime(restTime);\n\n    const intervalId = setInterval(() => {\n      const newRestTime = restTime - RESET_TIME;\n      if (newRestTime <= 0) {\n        onTimeout();\n        clearInterval(intervalId);\n        onSaveTime(0);\n        return;\n      }\n      setRestTime(newRestTime);\n    }, RESET_TIME);\n\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [restTime]);\n\n  // When correct\n  useEffect(() => {\n    // pass the first render\n    if (!correctFlag) {\n      return;\n    }\n\n    const newRestTime = restTime + ADD_TIME;\n    if (newRestTime < TOTAL_TIME) {\n      setRestTime(newRestTime);\n    } else {\n      setRestTime(TOTAL_TIME);\n    }\n  }, [correctFlag]);\n\n  // When wrong\n  useEffect(() => {\n    // pass the first render\n    if (!wrongFlag) {\n      return;\n    }\n\n    const newRestTime = restTime - MINUS_TIME;\n    if (newRestTime) {\n      setRestTime(newRestTime);\n    } else {\n      onTimeout();\n    }\n  }, [wrongFlag]);\n\n  return (\n    <div className={classes.timerWrap}>\n      <span className={classes.timeStr}>{`${minute}:${second}`}</span>\n      <div className={classes.timer} style={{ width: `${percent}%` }}></div>\n    </div>\n  );\n}\n\nfunction Result({ score }) {\n  const classes = useStyle();\n  const history = useHistory();\n  const { isAuth, coin } = useSelector((state) => state.userInfo);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isAuth) return;\n\n    (async function () {\n      try {\n        const newCoin = coin + score;\n\n        highscoreApi.putUpdateHighscore(HIGHSCORE_NAME.FAST_GAME, score);\n\n        const apiRes = await accountApi.putUpdateUserCoin(newCoin);\n        if (apiRes.status === 200) {\n          dispatch(setUserCoin(newCoin));\n        }\n      } catch (error) {}\n    })();\n    return () => {};\n  }, []);\n\n  // play win audio\n  useEffect(() => {\n    onPlayAudio(winAudioSrc);\n  }, []);\n\n  const onGoBack = () => {\n    history.push('/');\n  };\n\n  const onReplay = () => {\n    location.reload();\n  };\n\n  return (\n    <div className=\"w-100 h-100 flex-center flex-dir-col\">\n      <h2 className={classes.doneTitle}>Kết thúc</h2>\n      <div className={classes.doneResult}>Điểm của bạn là: {score}</div>\n      <div className=\"mt-10\">\n        <Button\n          className=\"_btn _btn-outlined-stand mr-5\"\n          variant=\"outlined\"\n          onClick={onGoBack}>\n          Quay về\n        </Button>\n        <Button className=\"_btn _btn-primary\" onClick={onReplay}>\n          Chơi lại\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction FastGame({ list }) {\n  const classes = useStyle();\n  const currentIndex = useRef(0);\n  const [word, setWord] = useState(list[currentIndex.current].word);\n  const [answerList, setAnswerList] = useState(generateAnswerList(list, word));\n  const [score, setScore] = useState(0);\n  const restTime = useRef(TOTAL_TIME);\n  const [isDone, setIsDone] = useState(false);\n\n  const onDone = () => {\n    setScore(score + ~~(restTime / 1000) * SCORE_PER_SEC);\n    setIsDone(true);\n  };\n\n  // flag to increase or decrease time\n  const [flag, setFlag] = useState({\n    correct: 0,\n    wrong: 0,\n  });\n\n  const handleCorrect = () => {\n    if (currentIndex.current >= list.length - 1) {\n      onDone();\n      return;\n    }\n\n    const newWord = list[currentIndex.current + 1].word;\n    const newAnswerList = generateAnswerList(list, newWord);\n\n    setWord(newWord);\n    setAnswerList([...newAnswerList]);\n    currentIndex.current++;\n\n    setFlag({ ...flag, correct: flag.correct + 1 });\n    setScore(score + CORRECT_SCORE);\n  };\n\n  const handleWrong = (removeIndex) => {\n    const newAnswerList = [...answerList];\n    delete newAnswerList[removeIndex];\n\n    setAnswerList([...newAnswerList]);\n    setFlag({ ...flag, wrong: flag.wrong + 1 });\n    setScore(score - WRONG_SCORE);\n  };\n\n  const handleAnswer = (answer, index) => {\n    const isCorrect = answer.toLowerCase() === word.toLowerCase();\n    if (isCorrect) {\n      handleCorrect();\n    } else {\n      handleWrong(index);\n    }\n  };\n\n  return (\n    <div className=\"d-flex flex-dir-col h-100\">\n      {!isDone ? (\n        <>\n          <div className={classes.title}>\n            <p className={`${classes.nTotal} flex-center`}>\n              Câu&nbsp;<span>{currentIndex.current + 1}</span>&nbsp;/&nbsp;\n              <span>{list.length}</span>\n              <span>{` - Điểm: ${score}`}</span>\n              <TooltipCustom\n                className=\"ml-5 cur-pointer\"\n                title={`Chọn hình ảnh đúng với nghĩa của từ. Chọn sai -${WRONG_SCORE}đ, đúng +${CORRECT_SCORE}đ. Điểm sẽ được cộng thêm với thời gian còn lại của bạn.`}>\n                <InfoIcon />\n              </TooltipCustom>\n            </p>\n            <h1 className=\"flex-center\">\n              <span className=\"mr-8\">{word}</span> <Speaker text={word} />\n            </h1>\n          </div>\n          <div className={`flex-grow-1 ${classes.answerList}`}>\n            {answerList.map((item, index) => {\n              if (item && item.picture) {\n                return (\n                  <div\n                    key={index}\n                    className={classes.answerItem}\n                    onClick={() => handleAnswer(item.word, index)}>\n                    {item.picture && <img src={item.picture} />}\n                  </div>\n                );\n              }\n              return <div key={index} className={classes.answerItem}></div>;\n            })}\n          </div>\n\n          <TimeBar\n            correctFlag={flag.correct}\n            wrongFlag={flag.wrong}\n            onSaveTime={(time) => (restTime.current = time)}\n            onTimeout={onDone}\n          />\n        </>\n      ) : (\n        <Result score={score} />\n      )}\n    </div>\n  );\n}\n\nexport default FastGame;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}